{
	"info": {
		"_postman_id": "microservice-test-project",
		"name": "Mikroservis Test Projesi - Simplified Collection",
		"description": "Place Order use case ve getAll endpoint'lerini içeren mikroservis collection'ı",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"version": "2.0.0"
	},
	"item": [
		{
			"name": "Restaurant API (Port: 8081)",
			"description": "Restoran menüsü ve stok yönetimi - Kotlin + Spring Boot",
			"item": [
				{
					"name": "Get All Products",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{restaurant_url}}/api/products",
							"host": ["{{restaurant_url}}"],
							"path": ["api", "products"]
						},
						"description": "Tüm ürünleri listele"
					}
				},
				{
					"name": "Check Stock",
					"request": {
						"method": "POST",
						"header": [{"key": "Content-Type", "value": "application/json"}],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"items\": [\n        {\"productId\": 1, \"requiredQuantity\": 2},\n        {\"productId\": 2, \"requiredQuantity\": 1}\n    ]\n}"
						},
						"url": {
							"raw": "{{restaurant_url}}/api/stock/check",
							"host": ["{{restaurant_url}}"],
							"path": ["api", "stock", "check"]
						},
						"description": "Stok kontrolü yap"
					}
				},
				{
					"name": "Reduce Stock",
					"request": {
						"method": "POST",
						"header": [{"key": "Content-Type", "value": "application/json"}],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"items\": [\n        {\"productId\": 1, \"quantity\": 2}\n    ]\n}"
						},
						"url": {
							"raw": "{{restaurant_url}}/api/stock/reduce",
							"host": ["{{restaurant_url}}"],
							"path": ["api", "stock", "reduce"]
						},
						"description": "Stok azalt"
					}
				}
			]
		},
		{
			"name": "Order API (Port: 8080)",
			"description": "Sipariş yönetimi - Java + Spring Boot + Elasticsearch",
			"item": [
				{
					"name": "Place Order",
					"request": {
						"method": "POST",
						"header": [{"key": "Content-Type", "value": "application/json"}],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"customerId\": {{customer_id}},\n    \"address\": \"Atatürk Cad. No:123, Ankara\",\n    \"items\": [\n        {\n            \"productId\": {{product_id}},\n            \"productName\": \"Hamburger\",\n            \"quantity\": 2,\n            \"price\": 50\n        }\n    ]\n}"
						},
						"url": {
							"raw": "{{order_url}}/api/orders",
							"host": ["{{order_url}}"],
							"path": ["api", "orders"]
						},
						"description": "Yeni sipariş oluştur"
					}
				},
				{
					"name": "Get All Orders",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{order_url}}/api/orders",
							"host": ["{{order_url}}"],
							"path": ["api", "orders"]
						},
						"description": "Tüm siparişleri listele"
					}
				}
			]
		},
		{
			"name": "Delivery API (Port: 8082)",
			"description": "Teslimat yönetimi - Go + Gin + Couchbase",
			"item": [
				{
					"name": "Start Delivery",
					"request": {
						"method": "POST",
						"header": [{"key": "Content-Type", "value": "application/json"}],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"orderId\": \"{{order_id}}\",\n    \"customerId\": {{customer_id}},\n    \"address\": \"Atatürk Cad. No:123, Ankara\",\n    \"items\": [\n        {\n            \"productId\": {{product_id}},\n            \"productName\": \"Hamburger\",\n            \"quantity\": 2,\n            \"price\": 50\n        }\n    ]\n}"
						},
						"url": {
							"raw": "{{delivery_url}}/api/delivery/start",
							"host": ["{{delivery_url}}"],
							"path": ["api", "delivery", "start"]
						},
						"description": "Teslimat başlat"
					}
				},
				{
					"name": "Get All Deliveries",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{delivery_url}}/api/delivery/",
							"host": ["{{delivery_url}}"],
							"path": ["api", "delivery", ""]
						},
						"description": "Tüm teslimatları listele"
					}
				}
			]
		},
		{
			"name": "Complete Place Order Workflow",
			"description": "Place Order use case'inin tam senaryosu",
			"item": [
				{
					"name": "1. Check Product Stock",
					"request": {
						"method": "POST",
						"header": [{"key": "Content-Type", "value": "application/json"}],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"items\": [{\"productId\": {{product_id}}, \"requiredQuantity\": 2}]\n}"
						},
						"url": {
							"raw": "{{restaurant_url}}/api/stock/check",
							"host": ["{{restaurant_url}}"],
							"path": ["api", "stock", "check"]
						},
						"description": "Sipariş öncesi stok kontrolü"
					}
				},
				{
					"name": "2. Place Order",
					"request": {
						"method": "POST",
						"header": [{"key": "Content-Type", "value": "application/json"}],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"customerId\": {{customer_id}},\n    \"address\": \"Test Address, Ankara\",\n    \"items\": [\n        {\n            \"productId\": {{product_id}},\n            \"productName\": \"Test Pizza\",\n            \"quantity\": 2,\n            \"price\": 45.90\n        }\n    ]\n}"
						},
						"url": {
							"raw": "{{order_url}}/api/orders",
							"host": ["{{order_url}}"],
							"path": ["api", "orders"]
						},
						"description": "Sipariş oluştur (otomatik olarak stok azaltma ve teslimat başlatma yapılır)"
					}
				}
			]
		}
	],
	"variable": [
		{
			"key": "restaurant_url",
			"value": "http://localhost:8081",
			"type": "string"
		},
		{
			"key": "order_url",
			"value": "http://localhost:8080",
			"type": "string"
		},
		{
			"key": "delivery_url",
			"value": "http://localhost:8082",
			"type": "string"
		},
		{
			"key": "customer_id",
			"value": "123",
			"type": "string",
			"description": "Test müşteri ID'si"
		},
		{
			"key": "product_id",
			"value": "1",
			"type": "string",
			"description": "Test ürün ID'si"
		},
		{
			"key": "order_id",
			"value": "order-456",
			"type": "string",
			"description": "Test sipariş ID'si"
		}
	]
}
